# 子网配置
本文将详细介绍如何配置子网，包括标准子网和边缘子网的相关配置操作。
- []()
## 前提条件及限制

- 确保您已经[注册京东云账号](https://user.jdcloud.com/register?returnUrl=https%3A%2F%2Fwww.jdcloud.com%2F)，并实现[实名认证](https://docs.jdcloud.com/cn/real-name-verification/introduction)；
- 确保您已经创建一个私有网络，私有网络有足量的子网配额，如配额已满。可通过[工单申请](https://ticket.jdcloud.com/applyorder/submit)提升配额；
- 子网创建后，CIDR网络块不可修改；
- 同一个VPC下的子网CIDR不可重叠；
- 边缘子网和标准子网的资源之间内网不互通，不同边缘可用区的资源之间内网不互通；
- 子网CIDR的第一个地址为网络地址，最后一个地址为广播地址，第二个和第三个IP地址已被京东云预留用作网络的管理，例如子网的CIDR为10.1.0.0/24，其中10.1.0.0为网络地址，10.1.0.255为广播地址，10.1.0.1和10.1.0.2被京东云预留，用户是不可以使用的，故该子网的可用IP个数为252；
- 删除子网资源前须删除其关联的云主机、负载均衡、VPC对等连接，更多请查看[使用限制](../Introduction/Restrictions.md)

## 操作步骤

### 创建子网

步骤1：进入[京东云控制台](https://console.jdcloud.com/overview)，点击左侧导航条 【私有网络 】-> 【子网】，进入子网列表页；

步骤2：选择创建子网所属地域，点击【创建】按钮，进入创建弹窗；
```
注：进入创建子网创建弹窗后，您也可以通过切换地域标签，实现切换创建子网的地域。
```
步骤3：默认创建的子网为标准子网，如需要创建边缘子网，请打开【指定边缘可用区】的开关，打开后即可创建边缘子网；

```
注：目前华南-广州地域支持创建边缘子网，边缘可用区为佛山南海。
```

步骤5：选择所属私有网络，子网必须创建在某个私有网络内，若需创建支持IPv6的子网，需选择支持IPv6的私有网络；

```
注：标准子网支持IPv6，边缘子网不支持IPv6。
```

步骤6：输入子网名称、子网CIDR、关联的路由表、描述等信息，具体说明如下：


|配置项|说明|示例|
|----|----|-----|
|地域|选择子网所属私有网络所在的地域，边缘子网需选择华南-广州|华北-北京|
|名称|设置子网名称，名称不可为空，只支持中文、数字、大小写字母、英文下划线“_”及中划线“-”，且不能超过32字符；|subnet-1|
|私有网络|选择需创建子网的私有网络|vpc(10.0.0.0/16)|
|IPv4 CIDR|子网IPv4内网网段，可选范围为10.0.0.0、172.16.0.0\~172.31.0.0、192.168.0.0（以上三个网段的掩码可选范围为16 \~ 28）|10.0.16.0/20|
|IPv6 CIDR|子网的IPv6 CIDR在私有网络所在的网段下选择，第57位到第64位可配置，可选范围为00\~ff（十六进制），掩码范围固定为64；|2402:db40:5f00:8f11::/64|
|路由表|选择子网关联的路由表，必须关联一张路由表，标准子网不能关联已关联边缘子网的路由表；[详细说明](subnet-configuration#user-content-1)|--|
|描述|设置子网描述：描述可以为空，只支持中文、数字、大小写字母、英文下划线“_”及中划线“-”，且不能超过256字符；|--|


```
注：多个子网的CIDR之间不可重叠，若所属私有网络已预设了CIDR，则子网的CIDR不能超过私有网络的边界。
```
步骤7：点击【确定】，可进入子网列表页查看已创建的子网。




#### **步骤二、更换路由表**

1. 打开控制台，选择 网络 > 子网 ，进入子网列表页；

2. 点击操作列的“更换路由表”；

3. 在弹出的路由表选择页面，选择要为该子网更换的路由表，可为该子网更换所属私有网络中的其他路由表；标准子网不能更换已关联边缘子网的路由表；[详细说明](subnet-configuration#user-content-1)

4. 点击【确定】后即可为子网更换路由表。



#### **步骤三、修改子网名称/描述**

1. 打开控制台，选择 网络 > 子网 ，点击子网名称进入子网详情页；

2. 点击名称/描述后的修改按钮，即可对子网名称/描述进行修改，具体的名称/描述规则参见子网创建。

单独的

#### **步骤四、查看子网内路由表规则、ACL规则、云主机**

打开控制台，选择 网络 > 子网，点击子网名称进入子网详情页，切换路由规则、ACL规则、云主机的tab即可查看。



#### **步骤五、删除子网**

1. 打开控制台，选择 网络 > 子网 ，进入子网列表页；

2. 点击操作列的删除；

3. 二次确认删除子网后，即可删除该子网；

4. 删除子网的限制：创建了资源的子网不可删除，如在该子网中创建了云主机、负载均衡等。



## **边缘子网配置**

#### **步骤一、创建子网**

1. 打开控制台，选择 网络 > 子网 ，进入子网列表页；

2. 选择创建子网所属地域（目前开放华北、华南地域），点击“创建”按钮；

3. 地域选择：在此步骤仍可以选择创建子网的地域，如果所选地域限额已满，可以通过“提交工单”提升限额；

4. 打开指定边缘可用区开关：打开开关，此时只能创建边缘子网；

5. 选择边缘子网关联的边缘可用区，单选；

6. 选择所属私有网络，子网必须创建在某个私有网络内；

7. 创建子网：输入子网名称、子网CIDR、关联的路由表、描述等信息；

8. 子网的CIDR只能是内网网段，可选范围为10.0.0.0、172.16.0.0\~172.31.0.0、192.168.0.0（以上三个网段的掩码可选范围为16 \~ 28）；

9. 多个子网的CIDR之间不可重叠，若所属私有网络已预设了CIDR，则子网的CIDR不能超过私有网络的边界；

10. 设置子网名称：名称不可为空，只支持中文、数字、大小写字母、英文下划线“_”及中划线“-”，且不能超过32字符；

11. 选择子网关联的路由表，每个子网能够关联一张路由表，且必须关联一张路由表；边缘子网只能关联已关联相同边缘可用区边缘子网的路由表；[详细说明](subnet-configuration#user-content-1)

12. 设置子网描述：描述可以为空，只支持中文、数字、大小写字母、英文下划线“_”及中划线“-”，且不能超过256字符；

13. 点击【确定】后即可进入“控制台”查看创建的子网。



#### **步骤二、更换路由表**

1. 打开控制台，选择 网络 > 子网 ，进入子网列表页；

2. 点击操作列的“更换路由表”；

3. 在弹出的路由表选择页面，选择要为该子网更换的路由表，可为该子网更换所属私有网络中的其他路由表；边缘子网不能更换已关联标准子网的路由表，也不能更换已关联其他边缘可用区边缘子网的路由表；[详细说明](subnet-configuration#user-content-1)

4. 点击【确定】后即可为子网更换路由表。



#### **步骤三、修改子网名称/描述**

1. 打开控制台，选择 网络 > 子网 ，点击子网名称进入子网详情页；

2. 点击名称/描述后的修改按钮，即可对子网名称/描述进行修改，具体的名称/描述规则参见子网创建。



#### **步骤四、查看子网内路由表规则、ACL规则、云主机**

打开控制台，选择 网络 > 子网，点击子网名称进入子网详情页，切换路由规则、ACL规则、云主机的tab即可查看。



#### **步骤五、删除子网**

1. 打开控制台，选择 网络 > 子网 ，进入子网列表页；

2. 点击操作列的删除；

3. 二次确认删除子网后，即可删除该子网；

4. 删除子网的限制：创建了资源的子网不可删除，如在该子网中创建了云主机、负载均衡等。



#### 详细说明：
<div id="user-content-1"></div>

1）路由表只能关联相同属性的子网；

2）相同属性子网包含两种情况：

  a.相同地域的标准子网；</br>
  b.相同地域关联相同边缘可用区的边缘子网；

3）已关联标准子网的路由表，不能再关联边缘子网，已关联边缘子网的路由表，不能再关联标准子网，也不能关联不同边缘可用区的边缘子网。

