## 一、全文检索语法及规则  

全文检索目前为模糊查询，您可以输入检索词对日志内容进行筛选过滤。

### 1.查询单个词

如果只包含大小写字母，数字，或者下划线，可以直接进行查询。如果包含其它字符，需要将查询词放入双引号""内，双引号内的查询词可以包含任意字符。如果查询词本身包含双引号或者不可见字符，请使用转义。示例：

1.	``error`` ：查询词为error
2.	``“error”`` ： 查询词为error
3.	``“test-log”`` : 查询词为test-log
4.	``test-log`` : 非法查询词，请使用双引号“”进行包含
5.	``“\"hello world\"”`` : 查询词为 “hello world”
6.	``“hello world”`` ： 查询词为hello world

### 2.要同时包含多个词时 （“与”关系）

使用一个或者多个空格分开，或者在该词前使用加号 “+” ，示例：

1.	``error warn`` ：查询包含error 并且 包含 warn的日志数据
2.	``+error +warn`` ： 查询包含error 并且 包含 warn的日志数据
3.	``error +warn`` ：查询包含error 并且 包含 warn的日志数据

### 3.要同时排除某个词 （“非”关系）

在该词前使用“-” ，示例：

1.	``error -test ``： 查询包含error，并且不包含 test的日志数据
2.	``-error -warn ``： 查询不包含error， 并且不包含warn的日志数据
3.	``error - “hello world”`` ： 查询包含error，并且不包含 hello world的日志数据

### 4.要查询包含其中任意一个词时（“或”关系）

在每个查询词前使用“?”， 示例：

1.	``?error ?warn`` ： 查询包含error 或者包含 warn的日志数据
2.	``? error ? "hello world"`` ： 查询包含error 或者包含hello world的日志数据

**当前不支持（）[] 等操作符进行与或非组合关系查询**

### 5.如果查询多个词，有“与”或者“非”关系时， “或”关系词会被忽略。示例：

1.	``error ?warn ``：查询包含error的日志数据， 存在与关系词 error，?warn 被忽略， 等同于 error
2.	``+error ?warn ``: 查询包含error的日志数据， 存在与关系词 error，?warn 被忽略， 等同于 error
3.	``error warn ?test`` : 查询包含error并且包含warn的日志数据，等同于 error warn
4.	``-error ?warn ``: 查询不包含error的日志数据，存在非关系词 error，?warn 被忽略，等同于 -error
5.	``error -test ?warn ``: 查询包含error，并且不包含 test的日志数据, ?warn 被忽略，等同于 error -test

### 6.保留字符说明

| 保留字符说明 | 特殊含义 | 备注 |
|---|---|---|
| +	|与|默认不填为与， 例如包含error：查询词 +error ，等同于 error。如果需要查包含 +error， 请使用“”包含查询词，即： “+error”|
| -	|非|优先级和“与”一致， 例如不包含error：查询词 -error|
| ？|或|优先级最低，当查询语句中出现“与”或者“非”关系时，会被忽略。即目前只支持多个或关系查询。不支持“与”+“或”， “非”+“或”的组合查询|


## 二、键值检索语法及规则  

语法 | 语义
---|---
比较符 >| 大于，数值类型  
比较符 >= | 大于等于，数值类型
比较符< | 小于，数值类型 
比较符 <=  | 小于等于，数值类型 
比较符 = | 等于，可以为数值类型和字符串，支持输入多个值  
比较符 !=  | 不等于，可以为数值类型和字符串，支持输入多个值   
bewteen  | 查询范围，左右边界在()内，用逗号分开，值只能为数值, 范围为闭区间，且左边的值大于右边的值  
“A"  | 字符串 

**举例：**  
1. A = 1 and B =2 , 搜索字段A的值为1并且字段B的值为2的日志
2. A > 1 and B > 2,搜索字段A的值大于1并且字段B大于2的日志
3. A in ("X","Y"), 搜索值为X或Y的日志;  A in (1,2)搜索值为1或2的日志,
4. A between (1,100)， 表示字段A大于等于1并且字段A小于等于100的日志

**注意：**
1. “and”，“not”，“in”，“not in",“between”作为保留字符
2. 关键字只能包含英文字符数字和 '_', 只能以字符开头， 不能为保留字符
3. 值只能为字符串和数值
4. "=","!=",">=",">","<","<=","between"的条件对于同一个关键字只能有一个，比如 A = 1 and A = 2 就是语法错误。

## 三、业务应用日志meta内容检索语法及规则

业务应用日志支持tag字段检索，使用 # 标识tag字段检索

1.基本查询示例,检索tag中 键值对为 {"key1":"value1"}的tag内容， 并且包含键值对为 {"key2":"value2"}的tag内容

`#key1=value1 #key2=value2`

2.通过tag查询meta，混合正常查询，查询key1=value1， key2=value2， 同时 日志内容包含error

`#key1=value1 #key2=value2 error`

3.tag查询只支持精确检索，区分大小写



